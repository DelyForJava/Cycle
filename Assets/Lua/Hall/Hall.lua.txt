
local Hall = {}
local self = Hall
self.name = "Hall"
self.transform = nil

self.resReload = nil

self.index = 0
self.max = 0
self.reloaded = false


function Hall.Init(transform)
	self.transform = transform
	-- self.resReload = StartReload(self)
	self.resReload = UGameObject.Find("Canvas/"..self.transform.gameObject.name):AddComponent( typeof(BResReload) )
	-- print(self.resReload)
	local images = self.resReload.images
	self.max = images.Length-1
end

function Hall.Update()
	if self.index>self.max then
		self.reloaded = true
		return
	end
	-- print("-------------------------------- Hall Update --------------------------------")
	-- print("I am in the coroutine:"..self.index)
	-- cresume(ReloadImageAsync,self.index)
	-- ReloadImage(self)
	self.resReload:SendMessage("OnStepImage",tostring(self.index) )
	self.index = self.index + 1

end

return Hall