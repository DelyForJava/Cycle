-- local ccreate = ccreate
-- local cyield = cyield
-- local cresume = cresume

local StartReload = StartReload
local ReloadImage = ReloadImage

local Login = {}
local self = Login

self.name = "Login"
self.transform = nil
self.resReload = nil

self.index = 0
self.max = 0
self.reloaded = false

function Login.Init(transform)
	self.transform = transform
	local bt = transform:Find("yk_bg"):GetComponent( typeof(UButton) )

	--bt.onClick:AddListener(CS.UIOperation.OnClickTouristLogin)
	bt.onClick:AddListener(function()
		print("on tourist clicked")
		print( ConfigData.GetVipUpgradeExpByLevel(7) )
		--transform.gameObject:SetActive(false)
		CS.Bean.Hall.LoginEvent.Instance:OnClickTouristLogin()
	end)

	self.resReload = StartReload(self)
	local images = self.resReload.images
	self.max = images.Length-1
end


function Login.Update()
	if self.index>self.max then
		self.reloaded = true
		return
	end
	print("-------------------------------- Login Update --------------------------------")

	print("I am in the coroutine:"..self.index)
	-- cresume(ReloadImageAsync,self.index)
	ReloadImage(self)
	self.index = self.index + 1

end

return Login