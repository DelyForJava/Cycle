-- local ccreate = ccreate
-- local cyield = cyield
local cresume = cresume

local ReloadImageAsync = ReloadImageAsync


local Login = {}
local self = Login
self.name = "Login"
self.transform = nil
self.resReload = nil

self.index = 0
self.max = 0
self.reloaded = false

function Login.Init(transform)
	self.transform = transform
	self.resReload = StartReload(transform.gameObject)
	local images = self.resReload.images
	self.max = images.Length-1


	local bt = transform:Find("yk_bg"):GetComponent( typeof(UButton) )
	bt.onClick:AddListener(function()
		-- print("on tourist clicked")
		print( ConfigData.GetVipUpgradeExpByLevel(7) )
		transform.gameObject:SetActive(false)
	end)

end


function Login.Update()
	if self.index>self.max then
		self.reloaded = true
		return
	end
	print("-------------------------------- Login Update --------------------------------")

	print("I am in the coroutine:"..self.index)
	cresume(ReloadImageAsync,self.index)
	self.index = self.index + 1

end

return Login