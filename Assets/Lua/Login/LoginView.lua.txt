local LoginView = {}
local self = LoginView
self.name = "Login"

self.loaded = false

function LoginView.Init()
		local bt = UGameObject.Find("LoginCanvas/yk_bg"):GetComponent("Button")
		bt.onClick:AddListener(function()
				-- print("on tourist clicked")
				print( ConfigData.GetVipUpgradeExpByLevel(7) )
				local gameObject = UGameObject.Find( "HallCanvas" )
				SetActiveScene("Hall")
				Reloadd("Hall",gameObject)
		end)
end

function LoginView.Update()
		local gameObject = UGameObject.Find( "LoginCanvas" )
		if false==self.loaded and gameObject then
				self.loaded = true
				Reloadd("Login",gameObject)
				self.Init()
		end
end


function LoginView.Reload(gameObject)
		print("-------------------------------- LoginView Reload --------------------------------")
		local images = gameObject.transform:GetComponentsInChildren( typeof(CS.UnityEngine.UI.Image) )
		for i=0,images.Length-1 do
				local textureName = images[i].mainTexture.name
                local path = "Assets/Art/"..self.name.."/"..textureName..".png"
				print("textureName:"..textureName..",path:"..path)
				local sprite = images[i].sprite
                -- CS.zcode.AssetBundlePacker.ResourcesManager.Load(path,newSprite)
                CS.Bean.Hall.ResourcesManager.Load(path,sprite)
                 --images[i].sprite = newSprite
		end
		self.Init()
end

return LoginView